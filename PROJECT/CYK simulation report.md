# Проект: симуляция CYK - отчет
## Задачи Симановой Ксении

- Преобразование грамматики к НФХ 

### Было сделано:
* Обработка грамматики, полученной от пользователя с помощью лексера 
* Обработка информации, полученной от лексера
* Приведение грамматики к НФХ с помощью алгоритма :
    + добавление нового стартового нетерминала
    + удаление неодиночных терминалов
    + удаление длинных правил
    + удаление эпсилон правил
    + удаление цепных правил
* Вывод грамматики в НФХ в новый файл на заданном языке грамматики
* Отображение промежуточных этапов выполнения алгоритма в еще одном файле
* Скрипт, запускающий нужные программы для НФХ и выдающий файлы с выводами НФХ
* Тесты
* Обработка внешних ошибок (неправильная грамматика, несуществующий файл)

### Решение задачи: 
Язык для описания грамматики был взят из прошлого домашнего задания. Для того, чтобы разбить грамматику на лекс-токены использовался лексер тоже с прошлого дз. 

Алгоритм приведения грамматики к НФХ я реализовала с помощью написанного мною же класса грамматики, описанного в cnf.hpp  и cnf.cpp. У класса есть основной метод приведения к НФХ и операторы ввода и вывода. Ввод обрабатывает информацию полученную от лексера. Метод преобразования к НФХ разделен на еще несколько методов, каждый из которых является фазой алгоритма. 

Трудные моменты : 
* Правильно продумать архитектуру класса
* Удаление эпсилон правил, для этой фазы использовался [данный алгоритм с очередью](https://neerc.ifmo.ru/wiki/index.php?title=%D0%A3%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_eps-%D0%BF%D1%80%D0%B0%D0%B2%D0%B8%D0%BB_%D0%B8%D0%B7_%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B8)


## Задачи Наумкина Владислава
- Визуализация алгоритма CYK

### Было сделано:
* Обработка грамматики в нормальной Форме Хомского.
* Парсер для грамматики в нормальной форме Хомского.
* Реализован алгоритм со слудующими изменениями:
    + вместо трехмерной таблицы использовалась двумерная, основная причина -- легкость вывода для клетки данной таблицы
    + для реализации вывода таблицы в алгоритме пришлось пересчитывать максимальный размер столбцов с учетом длины терминалов, входящих в клетки этого столбца
* Реализация построения и отображения дерева вывода по заданной строке
* Реализация двух способов вывода:
    + В файл с пошаговым отображением заполнения таблицы.
    + В файл с выводом конечной таблицы алгоритма CYK. 
    + В обоих случаях выводится дерево вывода
* Дописан и отредактирован скрипт, теперь он выдает не только фалы с НФХ, но еще и файл с визуализацией алгоритма.
* Добавлены тесты.
* Обработка ошибок:
    + ошибка алфавита грамматики во входной строке
    + ошибка отсутствия определенных аргументов для работы алгоритма
    + ошибка неккоретного формата вывода

### Решение задачи.
НФХ бралась после работы алгоритма сокамандника. После чего файл парсился и разбирался на правила. После алгоритм проходил по диагоналям и брал, если возможно два правила, после чего этим дввум правилам сопоставлял 3е, из которого они выводились. Так заполнял все клетки таблицы, после каждой заполненной клетки вызывалась функция вывода таблицы. После Заполнения всей таблицы, проверялась верхняя правая клетка на наличие стартового терминала. Если он есть, то вывод строки считался возможным, после чего запускался DFS для поиска дерева вывода.

Трудности:
* Продумывание архитектуры класса таблицы и CYK.
* Вывод дерева, в конечном итоге было решено просто вывести узлы дерева построчно: parent ---> (left_son, right_son(optional))